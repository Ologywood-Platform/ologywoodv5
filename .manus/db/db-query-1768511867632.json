{
  "query": "CREATE TABLE IF NOT EXISTS `rider_acknowledgments` (\n  `id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,\n  `bookingId` int NOT NULL,\n  `riderTemplateId` int NOT NULL,\n  `artistId` int NOT NULL,\n  `venueId` int NOT NULL,\n  `status` enum('pending', 'acknowledged', 'accepted', 'modifications_proposed', 'rejected') NOT NULL DEFAULT 'pending',\n  `acknowledgedAt` timestamp NULL,\n  `acknowledgedByUserId` int NULL,\n  `proposedModifications` json NULL,\n  `modificationsProposedAt` timestamp NULL,\n  `artistResponse` enum('approved', 'rejected', 'counter_proposal') NOT NULL DEFAULT 'approved',\n  `artistResponseAt` timestamp NULL,\n  `artistResponseNotes` text NULL,\n  `finalizedAt` timestamp NULL,\n  `finalizedByUserId` int NULL,\n  `notes` text NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `idx_bookingId` (`bookingId`),\n  INDEX `idx_riderTemplateId` (`riderTemplateId`),\n  INDEX `idx_artistId` (`artistId`),\n  INDEX `idx_venueId` (`venueId`),\n  INDEX `idx_status` (`status`)\n);\n\nCREATE TABLE IF NOT EXISTS `rider_modification_history` (\n  `id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,\n  `riderAcknowledgmentId` int NOT NULL,\n  `modificationNumber` int NOT NULL,\n  `fieldName` varchar(255) NOT NULL,\n  `originalValue` text NULL,\n  `newValue` text NULL,\n  `reason` text NULL,\n  `changedByUserId` int NOT NULL,\n  `changedByRole` enum('artist', 'venue') NOT NULL,\n  `status` enum('proposed', 'approved', 'rejected') NOT NULL DEFAULT 'proposed',\n  `statusChangedAt` timestamp NULL,\n  `statusChangedByUserId` int NULL,\n  `statusChangeNotes` text NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `idx_riderAcknowledgmentId` (`riderAcknowledgmentId`),\n  INDEX `idx_changedByUserId` (`changedByUserId`),\n  INDEX `idx_status` (`status`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user KrGaEuKwKPW5NAp.root --database mP6FLm6cHUyVdEMNViNuZS --execute CREATE TABLE IF NOT EXISTS `rider_acknowledgments` (\n  `id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,\n  `bookingId` int NOT NULL,\n  `riderTemplateId` int NOT NULL,\n  `artistId` int NOT NULL,\n  `venueId` int NOT NULL,\n  `status` enum('pending', 'acknowledged', 'accepted', 'modifications_proposed', 'rejected') NOT NULL DEFAULT 'pending',\n  `acknowledgedAt` timestamp NULL,\n  `acknowledgedByUserId` int NULL,\n  `proposedModifications` json NULL,\n  `modificationsProposedAt` timestamp NULL,\n  `artistResponse` enum('approved', 'rejected', 'counter_proposal') NOT NULL DEFAULT 'approved',\n  `artistResponseAt` timestamp NULL,\n  `artistResponseNotes` text NULL,\n  `finalizedAt` timestamp NULL,\n  `finalizedByUserId` int NULL,\n  `notes` text NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `idx_bookingId` (`bookingId`),\n  INDEX `idx_riderTemplateId` (`riderTemplateId`),\n  INDEX `idx_artistId` (`artistId`),\n  INDEX `idx_venueId` (`venueId`),\n  INDEX `idx_status` (`status`)\n);\n\nCREATE TABLE IF NOT EXISTS `rider_modification_history` (\n  `id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,\n  `riderAcknowledgmentId` int NOT NULL,\n  `modificationNumber` int NOT NULL,\n  `fieldName` varchar(255) NOT NULL,\n  `originalValue` text NULL,\n  `newValue` text NULL,\n  `reason` text NULL,\n  `changedByUserId` int NOT NULL,\n  `changedByRole` enum('artist', 'venue') NOT NULL,\n  `status` enum('proposed', 'approved', 'rejected') NOT NULL DEFAULT 'proposed',\n  `statusChangedAt` timestamp NULL,\n  `statusChangedByUserId` int NULL,\n  `statusChangeNotes` text NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `idx_riderAcknowledgmentId` (`riderAcknowledgmentId`),\n  INDEX `idx_changedByUserId` (`changedByUserId`),\n  INDEX `idx_status` (`status`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 644
}